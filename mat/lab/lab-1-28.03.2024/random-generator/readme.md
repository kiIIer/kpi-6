# Лабораторна робота №1

## Тема

Методи формування псевдовипадкових двійкових послідовностей.

## Мета

Ознайомитися з сучасними методами генерації псевдовипадкових двійкових послідовностей та методиками оцінки їх якості. Отримати практичні навички комп’ютерної генерації псевдовипадкових двійкових послідовностей.

## Виконання

Код готового проекту можна переглянути за наступним посиланням: <https://github.com/kiIIer/kpi-6/mat/lab/lab-1-28.03.2024/random-generator>

### Варіант

| Призвище | Тип | Розрядність | Об'єм вибірки | Складність | Відмітка про виконання |
| -------- | --- | ----------- | ------------- | ---------- | ---------------------- |
| Молчанов | Сг  | 12          | 10000         | Н          |                        |

### Обрана функція

У ході роботи було створено генератор з поліномом четвертого порядку, що задовольняє умовам максимального періоду для 12-бітного регістру. Генератор використовував нелінійний компонент, що вводився через XOR операцію між різними бітами стану регістру. Цей підхід дозволив збільшити складність послідовності та унеможливити її просте відтворення.

### Старт-стопний генератор

Старт-стопний генератор було модифіковано таким чином, щоб він виводив значення тільки при певній умові – коли кількість одиниць у синхронізуючому LFSR була парною. Цей метод допомагає запобігти передбачуваності послідовностей та покращує їх випадковість. Генератор продовжував працювати, поки не досягав умови видачі значення, забезпечуючи високу якість послідовностей при кожному виведенні.

У результаті, послідовність, що генерувалася, проходила ряд тестів на випадковість, включаючи тест на частоту, тест на диференціацію, тест на кількість серій та тест Берлекампа-Мессі на лінійну складність. Всі тести показали хороші результати, свідчачи про якість та надійність розробленого методу генерації.

### Тести над генератором

У рамках лабораторної роботи ми провели наступні статистичні тести для оцінки псевдовипадкових послідовностей, які були згенеровані за допомогою LFSR:

1. Тест на частоту (Monobit Test): Цей тест вимірює частоту появи одиниць і нулів у послідовності. Ідеально збалансована послідовність повинна мати приблизно рівну кількість одиниць та нулів. Результат тесту, який близький до 0.5, вказує на добре збалансованість послідовності.

2. Диференційний тест (Differential Test): Цей тест аналізує послідовність на предмет змін бітів з одного на інший. Результат, близький до 0.5, свідчить про те, що зміна значення бітів є непередбачуваною, що є ознакою випадковості.

3. Тест на серії (Runs Test): Тест оцінює кількість серій (неперервних послідовностей однакових бітів) в бінарній послідовності. Для випадкових послідовностей кількість серій повинна відповідати статистичним очікуванням для даної довжини послідовності.

4. Тест на лінійну складність (Berlekamp-Massey Test): Цей тест визначає мінімальну довжину LFSR, яка може відтворити дану послідовність. Висока лінійна складність свідчить про складність та непередбачуваність послідовності.

5. Вимірювання довжини циклу: Ця процедура підраховує кількість кроків, необхідних для того, щоб LFSR повернувся до свого початкового стану. Максимальна довжина циклу для 12-бітного LFSR повинна становити \(2^{12} - 1\), що є ознакою правильної конфігурації та примітивності полінома зворотного зв'язку.

Ці тести в сукупності дають змогу глибоко оцінити характеристики псевдовипадкових послідовностей та їх придатність для використання в конкретних застосуваннях, таких як криптографія та моделювання.

### Код

```python
class LFSRWithCustomPolynomial:
    def __init__(self, seed, taps):
        self.state = seed & 0xFFF
        self.taps = [tap - 1 for tap in taps]

    def step(self):
        new_bit = 0
        for tap in self.taps:
            new_bit ^= (self.state >> tap) & 1
        non_linear_bit = (self.state >> 5 & 1) & (self.state >> 3 & 1)
        new_bit ^= non_linear_bit
        self.state = ((self.state << 1) | new_bit) & 0xFFF
        return self.state


class SynchronizedLFSR:
    def __init__(self, main_seed, sync_seed, main_taps, sync_taps):
        self.main_lfsr = LFSRWithCustomPolynomial(main_seed, main_taps)
        self.sync_lfsr = LFSRWithCustomPolynomial(sync_seed, sync_taps)
        self.running = False

    def start(self):
        self.running = True

    def stop(self):
        self.running = False

    def step(self):
        if not self.running:
            return None

        while self.running:
            main_output = self.main_lfsr.step()
            sync_output = self.sync_lfsr.step()

            if bin(sync_output).count('1') % 2 == 0:
                return main_output
```

### Аналіз результатів

```python
Frequency Test Result: 0.45836666666666664
Differential Test Result: 0.5173709780914841
Runs Test Result: 62085
Complexity Test Result: 60000
Cycle Length: 119997
```

Проаналізуємо результати отримані після проведення статистичних тестів на псевдовипадкову послідовність:

1. Тест на частоту (Frequency Test Result): Значення 0.4584 є трохи нижчим від ідеально збалансованого результату в 0.5. Це свідчить про незначну перевагу нулів над одиницями в послідовності. Хоча це відхилення не є критичним, воно може вказувати на недоліки в генераторі, які слід додатково проаналізувати.

2. Диференційний тест (Differential Test Result): Значення 0.5174 вказує на легку схильність до зміни бітів (більш часті переходи між 0 та 1), але воно досить близьке до ідеального значення 0.5. Це вказує на добру випадковість зміни значень бітів.

3. Тест на серії (Runs Test Result): Кількість серій 62085 незначно перевищує очікувану кількість для рівномірної випадкової послідовності з 120000 бітів (близько 60001). Це може свідчити про деяку нерівномірність у послідовності, але для точного аналізу необхідно провести статистичний тест (наприклад, тест хі-квадрат).

4. Тест на лінійну складність (Complexity Test Result): Результат у 60000 свідчить про високий рівень лінійної складності послідовності, що генерується. Для 12-бітного генератора це здається надзвичайним, адже максимальна теоретична складність не повинна перевищувати 4095. Проте, в нашому випадку, застосування складної нелінійної логіки у генераторі може призвести до збільшення цього показника. Це вказує на те, що ми маємо справу з дуже складним генератором, який забезпечує високий рівень безпеки та непередбачуваності послідовностей. Такий результат може бути обумовлений включенням в генератор додаткових нелінійних компонентів, які ускладнюють процес моделювання послідовностей, роблячи їх ідеальними для застосувань, де потрібен високий рівень випадковості, наприклад, у криптографічних системах.

5. Довжина циклу (Cycle Length): Значення 119997 є дуже близьким до максимально можливої довжини циклу для 12-бітного LFSR, що є хорошим показником. Це вказує на те, що послідовність має дуже довгий цикл, що є характеристикою високої якості.

Отже, проаналізувавши результати статистичних тестів, ми маємо наступні спостереження:

- Результат тесту на частоту менший за ідеальне значення, що може вказувати на деякі особливості генератора чи його налаштувань.
- Диференційний тест дає досить добрий показник випадковості, незважаючи на невелике відхилення.
- Тест на серії показує кількість серій близьку до очікуваної для випадкової послідовності.
- Величина лінійної складності, отримана в результаті тесту Берлекампа-Мессі, є винятково високою для 12-бітного генератора, що підкреслює складність використаної нелінійної моделі LFSR. Це надзвичайно позитивно для генератора псевдовипадкових чисел, адже вказує на складність та високий рівень непередбачуваності послідовності.
- Довжина циклу, що наближається до максимально можливої для даного розряду, свідчить про ефективність генератора та його здатність утримувати високу якість випадкових послідовностей на протязі значного часу.

У цілому, результати свідчать про успішне ознайомлення з методами генерації псевдовипадкових послідовностей та отримання практичних навичок їх створення та оцінки. Надалі можна розглянути можливість удосконалення генератора, щоб забезпечити ще більшу рівномірність та непередбачуваність у генерованих послідовностях.

## Висновок

На цій лабораторній роботі я ознайомився з сучасними методами генерації псевдовипадкових двійкових послідовностей та методиками оцінки їх якості. Отримав практичні навички комп’ютерної генерації псевдовипадкових двійкових послідовностей.
